* { box-sizing: border-box; }
html, body { height: 100%; }

:root{
  /* âœ… 4:3 ê³ ì • */
  --stage-ratio: 4 / 3;

  /* í™”ë©´ í¬ê¸°ì— ë§ì¶° ìë™ìœ¼ë¡œ ì¤„ì–´ë“¤ê²Œ(ê°€ë¡œ/ì„¸ë¡œ ë‘˜ ë‹¤ ê³ ë ¤) */
  --max-w: 980px;
  --pad: 48px;

  /* í…Œë‘ë¦¬(ì—°í•œ í•˜ëŠ˜ìƒ‰ í”„ë ˆì„) ë” ë‘ê»ê²Œ */
  --frame-blue: rgba(170, 205, 235, 0.98);
  --frame-white: rgba(255, 255, 255, 0.72);
}

body{
  margin: 0;
  overflow: hidden;
  background: #dbeeff;
  font-family: system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
}

/* === BACKGROUND (web / windows vibe) === */
.bg{
  position: fixed; inset: 0;
  background:
    radial-gradient(1200px 800px at 70% 35%, rgba(255,255,255,0.75), rgba(255,255,255,0) 60%),
    radial-gradient(900px 700px at 25% 45%, rgba(255,255,255,0.55), rgba(255,255,255,0) 55%),
    linear-gradient(180deg, #bfe4ff 0%, #eaf6ff 45%, #ffffff 100%);
  filter: saturate(1.08) contrast(1.05);
}

.vignette{
  position: fixed; inset: 0;
  pointer-events: none;
  background: radial-gradient(closest-side, rgba(0,0,0,0) 70%, rgba(0,0,0,0.12) 115%);
  mix-blend-mode: multiply;
}

.scanlines{
  position: fixed; inset: 0;
  pointer-events: none;
  opacity: 0.12;
  background: repeating-linear-gradient(
    to bottom,
    rgba(0,0,0,0.06) 0px,
    rgba(0,0,0,0.06) 1px,
    rgba(255,255,255,0) 3px,
    rgba(255,255,255,0) 6px
  );
}

.noise{
  position: fixed; inset: 0;
  pointer-events: none;
  opacity: 0.08;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
}

/* === STAGE === */
.stage{
  position: fixed; inset: 0;
  display: grid;
  place-items: center;
  padding: calc(var(--pad) / 2);
}

/* âœ… 4:3 ìœˆë„ìš° í”„ë ˆì„ */
.window-shell{
  position: relative;
  width: min(var(--max-w), 92vw, calc((100vh - var(--pad)) * (4/3)));
  aspect-ratio: var(--stage-ratio);
  border-radius: 18px;

  /* ë°”ê¹¥ ì§„í•œ í”„ë ˆì„ */
  border: 8px solid var(--frame-blue);

  /* ğŸ”¥ ì•ˆìª½ ì—°í•œ í”„ë ˆì„ë§Œ ë‘ê»ê²Œ */
  box-shadow:
    0 0 0 6px var(--frame-white) inset, /* â† ê¸°ì¡´ 4px â†’ 6px */
    0 26px 80px rgba(0,0,0,0.22),
    0 2px 0 rgba(255,255,255,0.65) inset;

  background: rgba(245, 250, 255, 0.55);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  overflow: hidden;
}
.window-glow{
  position: absolute; inset: -40%;
  background: radial-gradient(circle at 40% 35%, rgba(255,255,255,0.75), rgba(255,255,255,0) 55%);
  opacity: 0.85;
  pointer-events: none;
}

/* inner canvas */
.window-placeholder{
  position: absolute;
  inset: 18px;
  border-radius: 14px;
  background: rgba(255,255,255,0.72);
  border: 1px solid rgba(150, 180, 210, 0.35);
  box-shadow: 0 1px 0 rgba(255,255,255,0.7) inset;
}

/* title text inside */
.titletext{
  position: absolute;
  top: 22px;
  left: 22px;
  display: flex;
  align-items: baseline;
  gap: 10px;
  color: rgba(0,0,0,0.85);
}

.app-dot{
  display: inline-grid;
  place-items: center;
  width: 22px;
  height: 22px;
  border-radius: 8px;
  background: rgba(0,0,0,0.06);
  font-weight: 700;
}

.app-title{
  font-size: 18px;
  font-weight: 600;
}

.app-sub{
  font-size: 14px;
  opacity: 0.65;
}

/* âœ… ë²„íŠ¼ì„ â€œìœˆë„ìš° í”„ë ˆì„ ìš°ìƒë‹¨â€ì— ê³ ì • */
.win-controls{
  position: absolute;
  top: 14px;     /* í”„ë ˆì„ ì•ˆìª½ */
  right: 16px;   /* í”„ë ˆì„ ì•ˆìª½ */
  display: flex;
  gap: 10px;
  z-index: 20;
}

/* ë²„íŠ¼ ë™ê·¸ë¼ë¯¸ */
.ctrl-btn{
  width: 18px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,0.28);
  cursor: pointer;
  position: relative;
  box-shadow:
    0 1px 0 rgba(255,255,255,.7) inset,
    0 1px 2px rgba(0,0,0,.12);
}

/* ìƒ‰ */
.ctrl-min{ background:#ffd047; }
.ctrl-max{ background:#58d66a; }
.ctrl-close{ background:#ff5a5a; }

.ctrl-btn:active{ transform: translateY(1px); }

/* âœ… ì•„ì´ì½˜ â€œê¸€ìâ€ë¡œ ì•ˆ ë„£ê³ , CSSë¡œ ê·¸ë ¤ì„œ ê¹¨ì§ ë°©ì§€ */
.ctrl-min::before{
  content:"";
  position:absolute;
  left: 4px; right: 4px;
  top: 8px;
  height: 2px;
  background: rgba(0,0,0,0.55);
  border-radius: 2px;
}

.ctrl-max::before{
  content:"";
  position:absolute;
  left: 5px; top: 5px;
  width: 8px; height: 8px;
  border: 2px solid rgba(0,0,0,0.45);
  border-radius: 2px;
}

.ctrl-close::before,
.ctrl-close::after{
  content:"";
  position:absolute;
  left: 4px; top: 4px;
  width: 10px; height: 2px;
  background: rgba(0,0,0,0.55);
  border-radius: 2px;
  transform-origin: center;
}
.ctrl-close::before{ transform: rotate(45deg) translate(2px, 4px); }
.ctrl-close::after{ transform: rotate(-45deg) translate(2px, -4px); }

/* ===== XP popup ===== */
.xp-overlay{
  position: fixed;
  inset: 0;
  display: none;
  place-items: center;
  background: rgba(0,0,0,0.25);
  z-index: 9999;
}
.xp-overlay.is-open{ display: grid; }

.xp-window{
  width: min(460px, 92vw);
  background: #cfcfcf;
  border: 2px solid #1b1b1b;
  box-shadow: 0 12px 50px rgba(0,0,0,.45);
}

.xp-titlebar{
  height: 34px;
  background: #0b2e8a;
  color: #fff;
  display: flex;
  align-items: center;
  padding: 0 8px;
  gap: 10px;
}

.xp-title{
  font-weight: 700;
  font-size: 13px;
  text-shadow: 0 1px 0 rgba(0,0,0,.4);
}

.xp-x{
  margin-left: auto;
  width: 26px;
  height: 22px;
  border: 1px solid rgba(255,255,255,.55);
  background: #e9e9e9;
  color: #111;
  font-weight: 900;
  cursor: pointer;
  display: grid;
  place-items: center;
}

.xp-body{
  padding: 18px 14px 14px;
  background: #cfcfcf;
}

.xp-message{
  background: #bdbdbd;
  border: 1px solid rgba(0,0,0,.45);
  padding: 18px 14px;
  margin-bottom: 16px;
  color: #111;
  text-transform: lowercase;
  letter-spacing: .6px;
  line-height: 1.25;

  /* âœ… í”½ì…€+Y2K ëŠë‚Œ: í°íŠ¸ 2ê°œ ì„ì–´ì„œ */
  font-family: "Press Start 2P", "VT323", ui-monospace, monospace;
  font-size: 14px;
}

.xp-actions{
  display: flex;
  gap: 12px;
  justify-content: center;
}

.xp-btn{
  min-width: 120px;
  padding: 10px 14px;
  background: #dcdcdc;
  border: 2px solid #3a3a3a;
  box-shadow: 0 2px 0 #ffffff inset;
  cursor: pointer;
  font-size: 14px;
  font-family: "VT323", ui-monospace, monospace;
}

.xp-btn:active{ transform: translateY(1px); }

.xp-dead{
  opacity: .55;
  cursor: not-allowed;
  pointer-events: none; /* Cancel ë¨¹í†µ */
}
